## `V8`执行`JavaScript`代码所需的基础环境

因为`V8`并不是一个完整的系统，所以在执行时，需要宿主提供基础环境。

宿主提供的东西

- 执行上下文
- 事件循环系统
- 堆空间和栈空间

V8 自己独有的

- JavaScript 核心功能
- 垃圾回收系统

宿主环境

- 构造堆空间，用来存放一写对象数据；构造栈空间，用来存放原生数据；

  堆空间不是连续的内存，因此可以存储很多的数据，但是读取速度慢；栈空间是一段连续内存空间，由于要在内存中找到一段连续的空间很难，所有只能存储很少的数据，但是读取速度快。

- 在`浏览器环境`中，`js`会操作像`window`，`dom`，`bom`等对象，在`node`中会访问`global`等全局对象；这些对象统称为`全局上下文`，当然这些内容会在启动过程中准备好

- 宿主环境会构造出时间循环系统

  事件循环系统主要来处理任务的派对和任务的调度

#### 作用域和执行上下文是什么关系？

答：js 的作用域是在 js 执行前就创建好的，即词法作用域；而执行上下文是动态的，调用函数之前会创建执行上下文，并在结束时释放。

tips：其实闭包是作用域链的作用
